# Switch to root user to complete task
sudo su -

# Create a group called "admins" and "devs"
groupadd admins
groupadd devs
# Create a user called "david", "natasha", "ray" and "lisa"
# while assing shell & group for these users as instructed in tasks.
useradd david -g admins -s /bin/zsh 
useradd natasha -g admins -s /bin/zsh
useradd ray -g devs -s /bin/sh
useradd lisa -g devs -s /bin/sh
# Set passwords for above users as instructed in task
echo "D3vUd3raaw" | passwd --stdin david
echo "DwfawUd113" | passwd --stdin natasha
echo "D3vU3r321"  | passwd --stdin ray
echo "D3vUd3r123" | passwd --stdin lisa

# Make sure "/data" directory is owned by user "bob" and group "devs"
# Also chagnge the permission as instructed in tasks
chown bob:devs /data
chmod 770 /data

# Give some additional permissions to "admins" group on "/data" directory 
# so that any user who is the member the "admins" group has 
#"full permissions" on this directory.
setfacl -m g:admins:rwx /data

#Configure a "resource limit" for the group "devs"
# while utilizing limits.conf file
echo '@devs   -  nproc  30' >> /etc/security/limits.conf

# Set the disk quots for group "devs" as instructed in task
setquota -g devs 100M 500M 0 0 /dev/vdb1

# Make sure all users under "admins" group can run all commands with 
# "sudo" and without entering any password.
echo '%admins ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers

# Make sure all users under "devs" group can only run the "dnf" 
# command with "sudo" and without entering any password
echo '%devs ALL=(ALL) NOPASSWD:/usr/bin/dnf' >> /etc/sudoers




